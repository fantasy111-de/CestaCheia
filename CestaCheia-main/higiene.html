<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="logo.ico" type="image/png">
    <title>CestaCheia</title>
    <link rel="stylesheet" href="hortifruti.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Fredoka:wght@500;600&display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500&display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@600&display=swap">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <div class="container">
        <header>
            <button class="sidebar-toggle" id="sidebarToggle">
                <i class="fas fa-ellipsis-v"></i>
            </button>
            <div class="logo-container">
                <img src="logo-removebg-preview.png" alt="CestaCheia Logo" class="logo" height="30">
            </div>
            <div class="text-container">
                <h3>CestaCheia</h3>
            </div>
            <div class="search-bar">
                <button class="search-icon">
                    <i class="fas fa-search"></i>
                </button>
                <input type="text" placeholder="Pesquisar">
            </div>
        </header>
        <div class="sidebar" id="sidebar">
            <ul>
                <li><a href="menuinicial.html"><i class="fas fa-home-alt"></i> Home</a></li>
                <li><a href="carrinho.html"><i class="fas fa-shopping-cart"></i> Carrinho</a></li>
                <li><a href="perfil.html"><i class="fas fa-user"></i> Perfil</a></li>
            </ul>
        </div>
        <div class="overlay" id="overlay"></div>
        <div class="secoes">
            <div class="nav-item">
                <a href="hortifruti.html"><button><i class="fas fa-apple-alt"></i></button></a>
                <span>Hortifruti</span>
            </div>
            <div class="nav-item">
                <a href="laticinios.html"><button><i class="fas fa-cheese"></i></button></a>
                <span>Laticínios e<br>Ovos</span>
            </div>
            <div class="nav-item">
                <a href="congelados.html"><button><i class="fas fa-snowflake"></i></button></a>
                <span>Congelados</span>
            </div>
            <div class="nav-item">
                <a href="mercearia.html"><button><i class="fas fa-shopping-basket"></i></button></a>
                <span>Mercearia</span>
            </div>
            <div class="nav-item">
                <a href="acougue.html"><button><i class="fas fa-drumstick-bite"></i></button></a>
                <span>Açougue</span>
            </div>
            <div class="nav-item">
                <a href="bebidas.html"><button><i class="fas fa-wine-bottle"></i></button></a>
                <span>Bebidas</span>
            </div>
            <div class="nav-item">
                <a href="limpeza.html"><button><i class="fas fa-soap"></i></button></a>
                <span>Limpeza</span>
            </div>
            <div class="nav-item">
                <a href="higiene.html"><button><i class="fas fa-hand-sparkles"></i></button></a>
                <span>Higiene</span>
            </div>
        </div>
        </div>
        <main id="mainContent">
            <div class="product-grid" id="productGrid">
                <!-- Os produtos serão carregados dinamicamente aqui -->
            </div>
        </main>
    </div>

    <script>
        async function fetchProdutos() {
            try {
                const response = await fetch('http://127.0.0.1:8000/api/produto/');
                const produtos = await response.json();
        
                const productGrid = document.getElementById('productGrid');
                productGrid.innerHTML = '';
        
                produtos.forEach(produto => {

                    if (produto.tipo === 'higiene') {
                        const productCard = `
                            <div class="product-card">
                                <img src="http://127.0.0.1:8000${produto.imagem}" alt="${produto.nome}" class="product-image" width="100">
                                <div class="product-name">${produto.nome}</div>
                                <div class="product-description">${produto.descricao}</div>
                                <div class="product-price">R$ ${produto.valor}</div>
                            </div>
                        `;
                        productGrid.innerHTML += productCard;
                    }
                });
            } catch (error) {
                console.error('Erro ao buscar os produtos:', error);
            }
        }
        
        
        // Chama a função ao carregar a página
        window.onload = fetchProdutos;
    </script>
</body>
</html>
